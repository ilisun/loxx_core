# LoxxRouter –¥–ª—è iOS

–ë—ã—Å—Ç—Ä–∞—è –æ—Ñ—Ñ–ª–∞–π–Ω-–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö OpenStreetMap.

[![Swift](https://img.shields.io/badge/Swift-5.9+-orange.svg)](https://swift.org)
[![Platform](https://img.shields.io/badge/Platform-iOS%2013.0+-lightgrey.svg)](https://developer.apple.com/ios/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MapLibre](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-maplibre)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [API Reference](#api-reference)
- [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- [FAQ](#faq)

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöó **–ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** ‚Äî —É—á—ë—Ç –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –¥–æ—Ä–æ–≥, –∫–ª–∞—Å—Å–æ–≤ –¥–æ—Ä–æ–≥
- üö∂ **–ü–µ—à–µ—Ö–æ–¥–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** ‚Äî –ø–µ—à–µ—Ö–æ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–∫–∏, —Ç—Ä–æ—Ç—É–∞—Ä—ã, –ø–∞—Ä–∫–∏
- üì± **100% –æ—Ñ—Ñ–ª–∞–π–Ω** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- ‚ö°Ô∏è **–ë—ã—Å—Ç—Ä–æ** ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã –¥–æ 50 –∫–º –∑–∞ < 300 –º—Å
- üó∫Ô∏è **MapLibre –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî –≥–æ—Ç–æ–≤—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- üîÑ **Async/await** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Swift concurrency API (iOS 15+)
- üì¶ **–õ—ë–≥–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî Swift Package Manager
- üéØ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —á–∏—Å—Ç—ã–π Swift API —Å CoreLocation

## üì± –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- iOS 13.0+
- macOS Catalyst 13.0+
- Xcode 15.0+
- Swift 5.9+

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### Swift Package Manager

1. –í Xcode: **File ‚Üí Add Package Dependencies...**
2. –í—Å—Ç–∞–≤—å—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
```
https://github.com/your-username/LoxxCore.git
```
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç

–ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `Package.swift`:

```swift
dependencies: [
    .package(url: "https://github.com/your-username/LoxxCore.git", from: "1.0.0")
]
```

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. **–°–∫–∞—á–∞–π—Ç–µ –æ—Ñ—Ñ–ª–∞–π–Ω-–ø–∞–∫–µ—Ç** –¥–ª—è –Ω—É–∂–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞ (`.routingdb` —Ñ–∞–π–ª)
2. **–î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç:**
   - Drag & drop —Ñ–∞–π–ª –≤ Xcode
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –¥–æ–±–∞–≤–ª–µ–Ω –≤ **Target ‚Üí Build Phases ‚Üí Copy Bundle Resources**

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–æ—É—Ç–µ—Ä–∞

```swift
import LoxxRouter
import CoreLocation

// –ò–∑ Bundle (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ñ–∞–π–ª)
let router = try LoxxRouter.bundled(resourceName: "arkhangelsk/routing")

// –ò–∑ Documents directory (–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª)
let router = try LoxxRouter.documents(filename: "moscow.routingdb")

// –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
var options = LoxxRouterOptions()
options.tileCacheCapacity = 256 // –±–æ–ª—å—à–µ –∫—ç—à –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
let router = try LoxxRouter(databasePath: path, options: options)
```

### 2. –†–∞—Å—á—ë—Ç –º–∞—Ä—à—Ä—É—Ç–∞ (iOS 15+, async/await)

```swift
let start = CLLocationCoordinate2D(latitude: 64.589700, longitude: 40.507520)
let end = CLLocationCoordinate2D(latitude: 64.541891, longitude: 40.539648)

do {
    let route = try await router.calculateRoute(
        from: start,
        to: end,
        profile: .car
    )
    
    print("–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: \(route.distanceFormatted)")  // "11.3 km"
    print("–í—Ä–µ–º—è: \(route.durationFormatted)")       // "5 min"
    print("–°–∫–æ—Ä–æ—Å—Ç—å: \(route.averageSpeed) –∫–º/—á")   // 38.0
    
} catch let error as LoxxRouterError {
    switch error {
    case .noRoute:
        print("–ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω")
    case .noTileData:
        print("–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞")
    default:
        print("–û—à–∏–±–∫–∞: \(error.localizedDescription)")
    }
}
```

### 3. Completion handler (iOS 13+)

```swift
router.calculateRoute(from: start, to: end, profile: .foot) { result in
    switch result {
    case .success(let route):
        print("–ù–∞–π–¥–µ–Ω –º–∞—Ä—à—Ä—É—Ç: \(route.distanceFormatted)")
        self.displayRoute(route)
        
    case .failure(let error):
        print("–û—à–∏–±–∫–∞: \(error.localizedDescription)")
    }
}
```

## üó∫Ô∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MapLibre

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MapLibre

–î–æ–±–∞–≤—å—Ç–µ MapLibre Native –≤ –ø—Ä–æ–µ–∫—Ç:

```swift
dependencies: [
    .package(url: "https://github.com/maplibre/maplibre-gl-native-distribution", from: "6.0.0")
]
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞

```swift
import MapLibre
import LoxxRouter

class MapViewController: UIViewController {
    let mapView = MLNMapView()
    let router = try! LoxxRouter.bundled()
    
    func showRoute(from start: CLLocationCoordinate2D, to end: CLLocationCoordinate2D) async {
        do {
            // 1. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç
            let route = try await router.calculateRoute(from: start, to: end, profile: .car)
            
            // 2. –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É
            guard let style = mapView.style else { return }
            route.addToMapStyle(style, color: .systemBlue, width: 5)
            
            // 3. –ü—Ä–∏–±–ª–∏–∑–∏—Ç—å –∫–∞–º–µ—Ä—É –∫ –º–∞—Ä—à—Ä—É—Ç—É
            mapView.showRoute(route, edgePadding: UIEdgeInsets(top: 100, left: 50, bottom: 100, right: 50))
            
            // 4. –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
            showRouteInfo(route)
            
        } catch {
            showError(error)
        }
    }
}
```

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞

```swift
// –ü—Ä–æ—Å—Ç–æ–π —Å—Ç–∏–ª—å
route.addToMapStyle(style, identifier: "my-route", color: .systemBlue, width: 5)

// –° –æ–±–≤–æ–¥–∫–æ–π (casing)
route.addToMapStyleWithCasing(
    style,
    lineColor: .systemBlue,
    lineWidth: 5,
    casingColor: .white,
    casingWidth: 7
)

// –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π –ø–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
route.addToMapStyle(style, belowLayerIdentifier: "road-label")
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### SwiftUI + MapLibre

```swift
import SwiftUI
import MapLibre
import LoxxRouter

struct ContentView: View {
    @StateObject private var viewModel = MapViewModel()
    
    var body: some View {
        ZStack {
            MapLibreView(route: $viewModel.route)
                .ignoresSafeArea()
            
            VStack {
                Spacer()
                
                if let route = viewModel.route {
                    RouteCard(route: route)
                        .padding()
                }
                
                Button("–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç") {
                    Task {
                        await viewModel.buildRoute()
                    }
                }
                .buttonStyle(.borderedProminent)
                .padding()
            }
        }
    }
}

@MainActor
class MapViewModel: ObservableObject {
    @Published var route: LoxxRoute?
    private lazy var router = try? LoxxRouter.bundled()
    
    func buildRoute() async {
        let start = CLLocationCoordinate2D(latitude: 64.589700, longitude: 40.507520)
        let end = CLLocationCoordinate2D(latitude: 64.541891, longitude: 40.539648)
        
        do {
            route = try await router?.calculateRoute(from: start, to: end, profile: .car)
        } catch {
            print("–û—à–∏–±–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏: \(error)")
        }
    }
}

struct RouteCard: View {
    let route: LoxxRoute
    
    var body: some View {
        HStack(spacing: 16) {
            Image(systemName: "car.fill")
                .font(.title2)
            
            VStack(alignment: .leading) {
                Text(route.distanceFormatted)
                    .font(.headline)
                Text(route.durationFormatted)
                    .font(.subheadline)
                    .foregroundStyle(.secondary)
            }
            
            Spacer()
        }
        .padding()
        .background(.regularMaterial)
        .cornerRadius(12)
    }
}
```

### –†–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—É—â–∏–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º

```swift
import CoreLocation

class LocationRouter: NSObject, CLLocationManagerDelegate {
    let locationManager = CLLocationManager()
    let router = try! LoxxRouter.bundled()
    
    override init() {
        super.init()
        locationManager.delegate = self
        locationManager.requestWhenInUseAuthorization()
    }
    
    func routeToDestination(_ destination: CLLocationCoordinate2D) async throws -> LoxxRoute {
        guard let currentLocation = locationManager.location else {
            throw LoxxRouterError.internalError("Location not available")
        }
        
        return try await router.calculateRoute(
            from: currentLocation,
            to: destination,
            profile: .foot
        )
    }
}
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ñ—Ñ–ª–∞–π–Ω-–ø–∞–∫–µ—Ç–æ–≤

```swift
class RegionManager {
    func downloadRegion(named: String) async throws -> URL {
        let url = URL(string: "https://your-server.com/packages/\(named).routingdb")!
        
        // –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
        let (tempURL, _) = try await URLSession.shared.download(from: url)
        
        // –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ Documents
        let documentsURL = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask)[0]
        let destinationURL = documentsURL.appendingPathComponent("\(named).routingdb")
        
        if FileManager.default.fileExists(atPath: destinationURL.path) {
            try FileManager.default.removeItem(at: destinationURL)
        }
        
        try FileManager.default.moveItem(at: tempURL, to: destinationURL)
        return destinationURL
    }
    
    func routerForRegion(named: String) throws -> LoxxRouter {
        try LoxxRouter.documents(filename: "\(named).routingdb")
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
let manager = RegionManager()

// –°–∫–∞—á–∞—Ç—å —Ä–µ–≥–∏–æ–Ω
let url = try await manager.downloadRegion(named: "moscow")

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–æ—É—Ç–µ—Ä
let router = try manager.routerForRegion(named: "moscow")
```

## üìö API Reference

### LoxxRouter

–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤.

#### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```swift
// –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
init(databasePath: String, options: LoxxRouterOptions = LoxxRouterOptions()) throws

// Convenience initializers
static func bundled(resourceName: String = "routing", 
                   bundle: Bundle = .main, 
                   options: LoxxRouterOptions = LoxxRouterOptions()) throws -> LoxxRouter

static func documents(filename: String, 
                     options: LoxxRouterOptions = LoxxRouterOptions()) throws -> LoxxRouter
```

#### –ú–µ—Ç–æ–¥—ã

```swift
// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–∞—Å—á—ë—Ç (–±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫)
func calculateRoute(from: CLLocationCoordinate2D, 
                   to: CLLocationCoordinate2D, 
                   profile: LoxxRoutingProfile = .car) throws -> LoxxRoute

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å completion handler
func calculateRoute(from: CLLocationCoordinate2D, 
                   to: CLLocationCoordinate2D, 
                   profile: LoxxRoutingProfile = .car,
                   completion: @escaping (Result<LoxxRoute, LoxxRouterError>) -> Void)

// Async/await (iOS 15+)
@available(iOS 15.0, *)
func calculateRoute(from: CLLocationCoordinate2D, 
                   to: CLLocationCoordinate2D, 
                   profile: LoxxRoutingProfile = .car) async throws -> LoxxRoute
```

### LoxxRoute

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞.

```swift
struct LoxxRoute {
    let coordinates: [CLLocationCoordinate2D]  // –ü–æ–ª–∏–ª–∏–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
    let distance: CLLocationDistance           // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –º–µ—Ç—Ä–∞—Ö
    let duration: TimeInterval                 // –í—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    
    var distanceFormatted: String              // "11.3 km"
    var durationFormatted: String              // "5 min"
    var averageSpeed: Double                   // –∫–º/—á
}
```

### LoxxRoutingProfile

–ü—Ä–æ—Ñ–∏–ª—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

```swift
enum LoxxRoutingProfile {
    case car   // –ê–≤—Ç–æ–º–æ–±–∏–ª—å: –¥–æ—Ä–æ–≥–∏, –º–∞–≥–∏—Å—Ç—Ä–∞–ª–∏
    case foot  // –ü–µ—à–µ—Ö–æ–¥: —Ç—Ä–æ—Ç—É–∞—Ä—ã, –ø–µ—à–µ—Ö–æ–¥–Ω—ã–µ –¥–æ—Ä–æ–∂–∫–∏
}
```

### LoxxRouterError

–û—à–∏–±–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

```swift
enum LoxxRouterError: LocalizedError {
    case databaseNotFound    // –§–∞–π–ª –±–∞–∑—ã –Ω–µ –Ω–∞–π–¥–µ–Ω
    case noRoute            // –ú–∞—Ä—à—Ä—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
    case noTileData         // –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–≥–∏–æ–Ω–∞
    case dataCorrupted      // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞
    case internalError(String)  // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞
}
```

### LoxxRouterOptions

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞.

```swift
struct LoxxRouterOptions {
    var tileZoom: Int = 14              // –£—Ä–æ–≤–µ–Ω—å —Ç–∞–π–ª–æ–≤ (14 = ~4√ó4 –∫–º)
    var tileCacheCapacity: Int = 128    // –†–∞–∑–º–µ—Ä –∫—ç—à–∞ —Ç–∞–π–ª–æ–≤
}
```

## ‚ö°Ô∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º—è —Ä–∞—Å—á—ë—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

| –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ | iPhone 14 Pro | iPhone 12 | iPhone XR |
|-----------|---------------|-----------|-----------|
| 5 –∫–º      | ~50 –º—Å        | ~70 –º—Å    | ~100 –º—Å   |
| 20 –∫–º     | ~150 –º—Å       | ~220 –º—Å   | ~350 –º—Å   |
| 50 –∫–º     | ~300 –º—Å       | ~500 –º—Å   | ~800 –º—Å   |

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

- **–ë–∞–∑–æ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:** ~50 –ú–ë
- **–° –∫—ç—à–µ–º 128 —Ç–∞–π–ª–æ–≤:** ~150-200 –ú–ë
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞:** 500 –ú–ë - 1.5 –ì–ë (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç—å —Ü–µ–ª–∏–∫–æ–º)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–£–≤–µ–ª–∏—á—å—Ç–µ –∫—ç—à –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:**
```swift
var options = LoxxRouterOptions()
options.tileCacheCapacity = 256
```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Router:**
```swift
class AppRouter {
    static let shared = try! LoxxRouter.bundled()
}
```

3. **–í—ã–∑—ã–≤–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ:**
```swift
// ‚úÖ –•–æ—Ä–æ—à–æ
Task {
    let route = try await router.calculateRoute(from: a, to: b)
}

// ‚ùå –ü–ª–æ—Ö–æ (–±–ª–æ–∫–∏—Ä—É–µ—Ç UI)
let route = try router.calculateRoute(from: a, to: b)
```

## ‚ùì FAQ

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –æ—Ñ—Ñ–ª–∞–π–Ω-–¥–∞–Ω–Ω—ã–µ?

–°–∫–∞—á–∞–π—Ç–µ –Ω–æ–≤—ã–π `.routingdb` —Ñ–∞–π–ª –∏ –∑–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ `LoxxRouter`.

### –°–∫–æ–ª—å–∫–æ –≤–µ—Å–∏—Ç –æ—Ñ—Ñ–ª–∞–π–Ω-–ø–∞–∫–µ—Ç?

–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–≥–∏–æ–Ω–∞:
- –ù–µ–±–æ–ª—å—à–æ–π –≥–æ—Ä–æ–¥: 100-300 –ú–ë
- –û–±–ª–∞—Å—Ç—å/—Ä–µ–≥–∏–æ–Ω: 500-1500 –ú–ë
- –°—Ç—Ä–∞–Ω–∞: 3-10 –ì–ë

### –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–≥–∏–æ–Ω–æ–≤?

–î–∞, —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π `LoxxRouter` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞:

```swift
let moscowRouter = try LoxxRouter.documents(filename: "moscow.routingdb")
let spbRouter = try LoxxRouter.documents(filename: "spb.routingdb")
```

### –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –Ω–∞ iPad/Mac Catalyst?

–î–∞, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç iOS 13+, –≤–∫–ª—é—á–∞—è iPad –∏ Mac Catalyst.

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏?

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ Car –∏ Foot. Boat –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ ‚Äî –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö.

### –ù—É–∂–µ–Ω –ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç?

–ù–µ—Ç, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç 100% –æ—Ñ—Ñ–ª–∞–π–Ω –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ `.routingdb` —Ñ–∞–π–ª–∞.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –°–º. [LICENSE](../../LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

–î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç: ¬© OpenStreetMap contributors, –ª–∏—Ü–µ–Ω–∑–∏—è ODbL.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: support@loxxrouter.com
- üêõ Issues: [GitHub Issues](https://github.com/your-username/LoxxCore/issues)
- üí¨ Discussions: [GitHub Discussions](https://github.com/your-username/LoxxCore/discussions)

## üéØ Roadmap

- [ ] Boat –ø—Ä–æ—Ñ–∏–ª—å (–≤–æ–¥–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)
- [ ] Turn-by-turn –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- [ ] Voice guidance
- [ ] –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
- [ ] Real-time rerouting
- [ ] –ò–∑–±–µ–∂–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π
- [ ] Waypoints (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–æ—á–∫–∏)

